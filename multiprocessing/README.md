## A Simple Bash Script to Run in Parallel Python Scripts

#### A powerful script that will change the way automate your tasks.

In this article, I will show you how to write a simple bash script that will run multiprocessing python scripts, theses python scripts executes a tasks and you can change the tasks according with you goals. In the bash script has a simple trick to control the number of jobs running in parallel in the moment.

#### Who this article is for?

This article is for everyone beginners and developers. 

### What you learn in this tutorial?

I will try to explain how you can write a simple bash script that will run multiple tasks in parallel, the tutorial will allow you to learn a method to run multiprocessing, bash script tricks and python package to generate fake data (read this to know more [https://andsilvadrcc.medium.com/how-to-generate-fake-data-using-the-faker-python-package-b6734b944cb2])

I will use basic commands - **Bash Script** and **Python**, if you are not familiar with the commands, I will try to explain in details (you can to study the basics commands before to read this article). 

## Which Shell and Python you have installed?

First, let's check which ```$SHELL environment``` and ```python --version``` are available in your OS. To check you need to open the terminal window and type the command:

```bash
#### Terminal Window.
$ which $SHELL
/usr/bin/zsh

# probably will see the bash
# and this script also will work in bash.
$ python --version
Python 3.7.6
```

**NOTE**: **For this tutorial you need to use python 3.**

Now, I will start to describe line-by-line the bash script to run the python scripts in parallel with the one trick to control the number of jobs running, this is a great method when you are running your jobs in a cluster, because you can reduce or increase the number of jobs running.

### File - Bash Script:

I written the code bash script called [rungendata.sh][https://gist.github.com/andvsilva/fbea32d63a9c26bc287282b7a5fdda0b]. Below I will explain line-by-line the bash script.

![Figure generated by the https://carbon.now.sh/](images/rungendata.png)

#### Line 1:  ```#!/bin/zsh```: 
Execute the file using zsh, the Z shell, or a compatible shell.

#### Difference Between Zsh and Bash - https://www.educba.com/zsh-vs-bash/
- Zsh is called Z Shell, which is an extension of Bash that has many new features and themes. Zsh was released in 1990 by Paul Falstad. Zsh has similarities with Korn shell as well. Linux and Mac OS use Bash as their default shell.

- Bash is the abbreviation of the Bourne-again shell. In 1971, the UNIX operating system was released along with the Thompson shell. In 1979, the Thompson shell was modified and released as a Bourne shell. Brian Fox released Bash in 1989 for his project that provided improvements from its previous versions. Bash release enhanced its use as a scripting language. The default Zsh is different from Bash.

- **Key Differences Between Zsh and Bash**
    - Let us discuss some of the major key differences:
        - Zsh is more interactive and customizable than Bash.
        - Zsh has floating-point support that Bash does not possess.
        - Hash data structures are supported in Zsh that are not present in Bash.
        - The invocation features in Bash is better when comparing with Zsh.
        - The prompt look can be controlled in Bash, whereas Zsh is customizable.

For run this script, you should pass the following arguments to the bash script, as ```the number of jobs``` to run and ```the number of events``` for each job.

#### Line 5: Argument: ```jobnumbers=$1``` 
#### Line 6: Argument: ```nevents=$2```

The arguments are passed to the script, as shown below:

```bash
## `source` is a shell built-in command which is used
## to read and execute the content of a file.

# source rungendata.sh jobnumbers nevents 
$ source rungendata.sh 10 1000

# when you pass the arguments, they are in a numerical
# order, e.g., $1, $2, $3...
# `$number` is a way to get the argument inside the script.
```





